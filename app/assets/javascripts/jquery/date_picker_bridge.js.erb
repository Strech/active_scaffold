<% ActiveScaffold::Bridges::Bridge.run_all unless defined?(ActiveScaffold::Bridges::DatePickerBridge) %>
<%= ActiveScaffold::Bridges::DatePickerBridge.localization %>

$(document).ready(function() {
  $(document).on('as:form_loaded', 'form.as_form, form.inplace_form', function(event) {
    var as_form = $(this).closest("form");
    as_form.find('input.datetime_picker').each(function(index) {
      var date_picker = $(this);
      if (typeof(date_picker.datetimepicker) == 'function') {
        date_picker.datetimepicker();
      }
    });

    as_form.find('input.date_picker').each(function(index) {
      var date_picker = $(this);
      if (typeof(date_picker.datepicker) == 'function') {
        date_picker.datepicker();
      }
    });
    return true;
  });
  $(document).on('as:form_unloaded', 'form.as_form, form.inplace_form', function(event) {
    var as_form = $(this).closest("form");
    as_form.find('input.datetime_picker').each(function(index) {
      var date_picker = $(this);
      if (typeof(date_picker.datetimepicker) == 'function') {
        date_picker.datetimepicker('destroy');
      }
    });

    as_form.find('input.date_picker').each(function(index) {
      var date_picker = $(this);
      if (typeof(date_picker.datepicker) == 'function') {
        date_picker.datepicker('destroy');
      }
    });
    return true;
  });
});